(this["webpackJsonpphoto-gallery"]=this["webpackJsonpphoto-gallery"]||[]).push([[0],{94:function(e,t,c){},95:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(33),s=c.n(a),o=c(37),i=c(4),l=c(10),u=c.n(l),j=c(15),p=c(12),b=c(36),f=c(34),h=c.n(f),d="https://api.flickr.com/services/rest/",g="aabca25d8cd75f676d3a74a72dcebf21",O="flickr.photos.getRecent";function v(){return(v=Object(j.a)(u.a.mark((function e(t){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("page number:",t),e.next=3,h.a.get("".concat(d,"?method=").concat(O,"&extra=url_s&api_key=").concat(g,"&format=json&nojsoncallback=1&page=").concat(t,"&per_page=30"));case 3:return c=e.sent,n=c.data,console.log(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x={getRecentPhotos:function(e){return v.apply(this,arguments)}},m=c(1);var k=function(e){var t=e.photo,c=e.toggleDetails;return console.log({photo:t}),Object(m.jsxs)("div",{className:"details-wrapper grid center",onClick:function(){c(null)},children:[Object(m.jsx)("div",{className:"arrow",onClick:function(){return c(null)}}),Object(m.jsx)("img",{src:"https://live.staticflickr.com/".concat(t.server,"/").concat(t.id,"_").concat(t.secret,"_b.jpg")})]})},w=c(18),y=c(35),S=c(38);function N(e){var t=e.photos,c=e.toggleDetails,n=e.isLast,r=e.elLastStrip;return n?Object(m.jsx)("section",{ref:r,children:Object(m.jsx)("ul",{className:"wrapper",children:t.map((function(e,t){return Object(m.jsx)("li",{onClick:function(){return c(e)},children:Object(m.jsx)("img",{src:"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,"_b.jpg")})},t)}))})}):Object(m.jsx)("section",{children:Object(m.jsx)("ul",{className:"wrapper",children:t.map((function(e,t){return Object(m.jsx)("li",{onClick:function(){return c(e)},children:Object(m.jsx)("img",{src:"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,"_b.jpg")})},t)}))})})}function L(e){var t=e.photos,c=e.toggleDetails,n=e.elLastStrip;if(t){for(var r=Object(S.a)(t),a=[],s=0;s<t.length/5;s++){var o=s===t.length/5-1;a.push(Object(m.jsx)(N,{elLastStrip:n,isLast:o,toggleDetails:c,photos:r.splice(0,4)},s))}return Object(m.jsx)("div",{children:a})}}w.a.registerPlugin(y.a);var _=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(1),s=Object(p.a)(a,2),o=s[0],i=s[1],l=Object(n.useState)(!1),f=Object(p.a)(l,2),h=f[0],d=f[1],g=Object(n.useState)(null),O=Object(p.a)(g,2),v=O[0],y=O[1];Object(n.useEffect)((function(){_()}),[]),Object(n.useEffect)((function(){D()}),[c]);var S=Object(n.useRef)(),N=Object(n.useCallback)((function(e){S.current&&S.current.disconnect(),S.current=new IntersectionObserver(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[0].isIntersecting){e.next=4;break}return e.next=3,i((function(e){return e+1}));case 3:_(o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{rootMargin:"500px"}),e&&S.current.observe(e)}),[c]),_=function(){var e=Object(j.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,x.getRecentPhotos(o);case 3:t=e.sent,(c=t.photos)&&r((function(e){return e.concat(c.photo)})),d(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){y(e)},D=function(){w.a.utils.toArray("section").forEach((function(e,t){var c=e.querySelector(".wrapper"),n=t%2?["100%",-1*(c.scrollWidth-e.offsetWidth)]:[-1*c.scrollWidth,0],r=Object(p.a)(n,2),a=r[0],s=r[1];w.a.fromTo(c,{x:a},{x:s,scrollTrigger:{trigger:e,scrub:.3}})}))};return(null===c||void 0===c?void 0:c.length)?Object(m.jsxs)("div",{className:"gallery-app",children:[v&&Object(m.jsx)(k,{toggleDetails:C,photo:v}),Object(m.jsx)("header",{className:"header grid center",children:Object(m.jsx)("h1",{className:"title",children:"Welcome to my gallery"})}),Object(m.jsx)("div",{className:"gallery",children:Object(m.jsx)(L,{photos:c,elLastStrip:N,toggleDetails:C})})]}):Object(m.jsx)("div",{className:"loader-wrapper",children:Object(m.jsx)(b.MoonLoader,{loading:h})})};var C=function(){return Object(m.jsx)(o.a,{children:Object(m.jsx)("main",{className:"App",children:Object(m.jsx)(i.c,{children:Object(m.jsx)(i.a,{component:_,path:"/"})})})})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,96)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};c(94);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),D()}},[[95,1,2]]]);
//# sourceMappingURL=main.e3fd0732.chunk.js.map